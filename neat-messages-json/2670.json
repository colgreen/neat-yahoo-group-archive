{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":127853030,"authorName":"Colin Green","from":"Colin Green &lt;cgreen@...&gt;","profile":"alienseedpod","replyTo":"LIST","senderId":"yG4glf2zNy5RoUivMBODEtzJbeGQv4k28HQLfZP5rsHwpRoJoOsaU2NHXN61DBEA0846wygVyXELj8EJxmA294sPkZX0f7h1Ig","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [neat] Re: Loss of most fit species in SharpNEAT?","postDate":"1152998630","msgId":2670,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0Qjk1Q0U2LjEwNTA0MDhAZHNsLnBpcGV4LmNvbT4=","inReplyToHeader":"PGU5OG5kaCt0c21qQGVHcm91cHMuY29tPg==","referencesHeader":"PGU5OG5kaCt0c21qQGVHcm91cHMuY29tPg=="},"prevInTopic":2668,"nextInTopic":2672,"prevInTime":2669,"nextInTime":2671,"topicId":2663,"numMessagesInTopic":8,"msgSnippet":"Hi Peter, Ok I was able to recreate the problem using the example you gave. John, yes it does seem to be a problem caused by the re-speciation and the example","rawEmail":"Return-Path: &lt;cgreen@...&gt;\r\nX-Sender: cgreen@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nReceived: (qmail 43747 invoked from network); 15 Jul 2006 21:23:56 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m41.grp.scd.yahoo.com with QMQP; 15 Jul 2006 21:23:56 -0000\r\nReceived: from unknown (HELO ranger.systems.pipex.net) (62.241.162.32)\n  by mta10.grp.scd.yahoo.com with SMTP; 15 Jul 2006 21:23:55 -0000\r\nReceived: from [10.0.0.11] (81-86-161-87.dsl.pipex.com [81.86.161.87])\n\tby ranger.systems.pipex.net (Postfix) with ESMTP id 3D04BE0001B8\n\tfor &lt;neat@yahoogroups.com&gt;; Sat, 15 Jul 2006 22:23:47 +0100 (BST)\r\nMessage-ID: &lt;44B95CE6.1050408@...&gt;\r\nDate: Sat, 15 Jul 2006 22:23:50 +0100\r\nUser-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: neat@yahoogroups.com\r\nReferences: &lt;e98ndh+tsmj@...&gt;\r\nIn-Reply-To: &lt;e98ndh+tsmj@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Colin Green &lt;cgreen@...&gt;\r\nSubject: Re: [neat] Re: Loss of most fit species in SharpNEAT?\r\nX-Yahoo-Group-Post: member; u=127853030; y=SOIik8-Z7fcmhqIDPTYkvNnRpZL2hPwCxunf1cErs75SnRv34ofj\r\nX-Yahoo-Profile: alienseedpod\r\n\r\nHi Peter,\n\nOk I was able to recreate the problem using the example you gave. John, \nyes it does seem to be a problem caused by the re-speciation and the \nexample Peter gave exacerbated the problem by setting a mean species \nsize that was just half the population size, thus making the average \nspecies size just 2 (genomes). So when I calculate the target size of \neach species based on the fitness of it&#39;s genomes I assumed that the \nspecies with the champ in it would always get a target size &gt;0, but this \nisn&#39;t the case when the mean species size is so small - due to rounding \ndown to 0 problem. Also setting the min/max species threshold to the \nsame value causes a lot of adding and removing of species to try to \nmaintain the target number of species.\n\n I think I have a fix for this problem, although I would hope that it \nisn&#39;t a major issue anyway if the mean species size is set to at least \nsay 15-20 and there is a gap between the two species target size thresholds.\n\nAnyway try replacing EvolutionAlgorithm.DetermineSpeciesTargetSize() \nfunction with the version below. It test for the condition where the \ntarget or elitism size has been calculated to be 0 but the species \ncontains the best genome.\n\nColin\n\n\n        private void DetermineSpeciesTargetSize()\n        {\n            foreach(Species species in pop.SpeciesTable.Values)\n            {\n                species.TargetSize = \n(int)Math.Round((species.MeanFitness / pop.TotalSpeciesMeanFitness) * \npop.PopulationSize);\n\n                // Calculate how many elite genomes to keep in the next \nround. If this is a large number then we can only\n                // keep as many genomes as we have!\n                species.ElitistSize = Math.Min(species.Members.Count, \n(int)Math.Floor(species.TargetSize * neatParameters.elitismProportion));\n                if((species.TargetSize==0 || species.ElitistSize==0) && \nspecies.Members[0]==bestGenome)\n                {   // Ensure we don&#39;t cull the species that contains \nthe best genome!\n                    species.TargetSize = 1;\n                    species.ElitistSize = 1;\n                }\n                else if(species.ElitistSize==0 && species.TargetSize &gt; 1)\n                {    // If ElitistSize is calculated to be zero but the \nTargetSize non-zero then keep just one genome.\n                    // If the the TargetSize is 1 then we can&#39;t really \ndo this since it would mean that no offspring would be generated.\n                    // So we throw away the one member and hope that the \none offspring generated will be OK.\n                    species.ElitistSize = 1;\n                }\n            }\n        }\n\n"}}