{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":140831814,"authorName":"krasy_tr","from":"&quot;krasy_tr&quot; &lt;krasy_tr@...&gt;","profile":"krasy_tr","replyTo":"LIST","senderId":"wrJ8cpsXH7Z3oIyJQQ1DnEuKvKkX2m7QoRcgqVQf5gnVZJ4SzWnrQ963-zfYOHrilcHnflrFbnyTIjBsGhvJFhxNoutHzg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Trading Simulator in fitness function","postDate":"1156225764","msgId":2710,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGVjZTV0NCsyZG5yQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":0,"prevInTime":2709,"nextInTime":2711,"topicId":2710,"numMessagesInTopic":1,"msgSnippet":"Hello All, I will introduce myself ones again â€“ my name is Krasimir Trifonov. The problem that I would like to try using NEAT is related to the world of","rawEmail":"Return-Path: &lt;krasy_tr@...&gt;\r\nX-Sender: krasy_tr@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nReceived: (qmail 82123 invoked from network); 22 Aug 2006 05:49:41 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m39.grp.scd.yahoo.com with QMQP; 22 Aug 2006 05:49:41 -0000\r\nReceived: from unknown (HELO n11b.bullet.sc5.yahoo.com) (66.163.187.178)\n  by mta4.grp.scd.yahoo.com with SMTP; 22 Aug 2006 05:49:40 -0000\r\nReceived: from [66.163.187.123] by n11.bullet.sc5.yahoo.com with NNFMP; 22 Aug 2006 05:49:26 -0000\r\nReceived: from [66.218.69.5] by t4.bullet.sc5.yahoo.com with NNFMP; 22 Aug 2006 05:49:26 -0000\r\nReceived: from [66.218.66.68] by t5.bullet.scd.yahoo.com with NNFMP; 22 Aug 2006 05:49:26 -0000\r\nDate: Tue, 22 Aug 2006 05:49:24 -0000\r\nTo: neat@yahoogroups.com\r\nMessage-ID: &lt;ece5t4+2dnr@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;krasy_tr&quot; &lt;krasy_tr@...&gt;\r\nSubject: Trading Simulator in fitness function\r\nX-Yahoo-Group-Post: member; u=140831814; y=8nt2ugsw4P82URIEYjP6MH72IVBu2OvuKECtlJPIl65yOmU\r\nX-Yahoo-Profile: krasy_tr\r\n\r\nHello All,\nI will introduce myself ones again =96 my name is Krasimir Trifo=\r\nnov.\nThe problem that I would like to try using NEAT is related to the\nworl=\r\nd of trading. I have been trying different supervised technique\nwith differ=\r\nent magnitude of success but also I have been looking for\nsmart solution li=\r\nke NEAT. Considering NEAT as reinforcement technique\nmy idea is to embed a =\r\ntrading simulator into fitness function. I see\npopulation like a group of t=\r\nraders competing for best profit\n(fitness). We are not telling them how to =\r\ntrade but just ask them to\nmake bigger profit i.e. just direction of evolut=\r\nion.\nTrading simulator has set of command and parameters which I decide to\n=\r\ndecode from output neurons response. For instance instruction &quot;Buy 100\nshar=\r\nes and take profit at current price + 0.1%&quot; is decoded from 3 neurons.\n1.\ti=\r\nf response &gt; 0.5 Buy else Sell\n2.\tShares Number =3D response*100\nand so on.=\r\n\nInput data could a set of technical indicator, inter market data or\nabove =\r\ndata additionally preprocessed with filtering methods scaling\nand so on. Fo=\r\nr this part of the problem suggestion about FS-NEAT\nautomatic input selecti=\r\non are highly appreciated.\nI am currently playing with SharpNEAT (thanks Co=\r\nlin Green!).\nFirst results from my experiment shows that NEAT can learn how=\r\n to\ntrade creating nice 45 degree slope smooth equity line on training\ndata=\r\n but as I was expecting performance on out of sample data is not\ngood at al=\r\nl.\nDespite we have reinforcement approach here I decide to introduce\ncross-=\r\nvalidation.\nFollowing Kennett&#39;s suggestion on cross-validation and Peter&#39;s\n=\r\ninvestigation on SharpNEAT code I subclass\nSingleFilePopulationEvaluator an=\r\nd override EvaluatePopulation method.\nAlso I introduce a new interface meth=\r\nod in INetworkEvaluator - double\nCrossEvaluateNetwork(INetwork network) \n\nu=\r\nsing System;\nusing SharpNeatLib.Evolution;\nusing SharpNeatLib.NeuralNetwork=\r\n;\nusing SharpNeatLib.Experiments;\n\nnamespace SharpNeatLib.Experiments\n{\n   =\r\n public class\nCrossValidationPopulationEvaluator:SingleFilePopulationEvalua=\r\ntor  \n    {\n        INetworkEvaluator networkEvaluator;\n        IActivation=\r\nFunction activationFn;\n        public CrossValidationPopulationEvaluator(IN=\r\networkEvaluator\nnetworkEvaluator, IActivationFunction\nactivationFn):base(ne=\r\ntworkEvaluator,activationFn)\n        {\n            this.activationFn =3D ac=\r\ntivationFn;\n            this.networkEvaluator =3D networkEvaluator;\n       =\r\n }\n        public override void EvaluatePopulation(Population pop,\nEvolutio=\r\nnAlgorithm ea)\n        {           \n            base.EvaluatePopulation(pop=\r\n, ea);                        \n          \n            if (ea.BestGenome !=\r\n=3D null)\n            {                \n               INetwork net =3D ea.=\r\nBestGenome.Decode(activationFn);    \n           \n               //get best =\r\ngenome fitness from validation set\n               ea.BestGenome.Fitness =3D=\r\n\nMath.Max(networkEvaluator.CrossEvaluateNetwork(net),\nEvolutionAlgorithm.MI=\r\nN_GENOME_FITNESS);\n            }            \n        }\n    }\n}\n\nI am not su=\r\nre whether this is correct or not and also stopping\ncriteria is not yet cle=\r\nar to me how to be implemented (Kenneth, Colin,\n Peter or others opinion wi=\r\nll be valuable for me)\n\nThe result from this implementation still is not sa=\r\ntisfactory. The\neffect from it was that after some fluctuations on evaluati=\r\non set\nequity (fitness) during first generations the fitness on training se=\r\nt\ncontinuously improves while this on evaluation set is getting worst.\n\nAs =\r\na final experiment I decide to filter the data so I apply averaging\non clos=\r\ning price with period of two which is used as input but which\nwas also used=\r\n as a base for calculation of trading performance (which\nis unrealistic). A=\r\nnyway at that case everything starts working despite\nstill unrealistic for =\r\npractical use. Both training and evaluation\nset&#39;s equities were going up du=\r\nring the evolution and as one could\nexpect evaluation set equity was below =\r\ntraining set ones.\n\nIs stock market data to noisy or there is other weak po=\r\nint here is\nstill a question for me.\n\nBest regards,\nKrasimir Trifonov\n\n\n\n\n\n=\r\n\n"}}