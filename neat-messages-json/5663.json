{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":234577593,"authorName":"Oliver Coleman","from":"Oliver Coleman &lt;oliver.coleman@...&gt;","profile":"olivercoleman04","replyTo":"LIST","senderId":"or9ufXVc4UXJYoAZDJzBYlfSzzbYjk77BUOrR2XGvqN3FW5RcFI8qlSDO20QqvIiuUb8ZYHNARV85xggcylWBRbmq_EEL_9kB1lB_sbGuqM","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: IlligalStateException: sum diff &gt; max sum diff","postDate":"1319754366","msgId":5663,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBK2R1aW1NRXpXMm42Q1dfUTFmNmFKdlhfRHFQaU43bkRIeXV5bWdxVl8tZVBSZ3pDQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":5662,"nextInTopic":5664,"prevInTime":5662,"nextInTime":5664,"topicId":5662,"numMessagesInTopic":3,"msgSnippet":"Hi Allison, After a quick search of the ANJI source I found that this exception is thrown in the *calculateErrorFitness* method in the * ","rawEmail":"Return-Path: &lt;oliver.coleman@...&gt;\r\nX-Sender: oliver.coleman@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nX-Received: (qmail 44856 invoked from network); 27 Oct 2011 22:26:07 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m6.grp.sp2.yahoo.com with QMQP; 27 Oct 2011 22:26:07 -0000\r\nX-Received: from unknown (HELO mail-iy0-f175.google.com) (209.85.210.175)\n  by mta6.grp.sp2.yahoo.com with SMTP; 27 Oct 2011 22:26:07 -0000\r\nX-Received: by iafi7 with SMTP id i7so5171694iaf.34\n        for &lt;neat@yahoogroups.com&gt;; Thu, 27 Oct 2011 15:26:06 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.48.149 with SMTP id r21mr4029502ibf.95.1319754366685; Thu,\n 27 Oct 2011 15:26:06 -0700 (PDT)\r\nX-Received: by 10.231.49.144 with HTTP; Thu, 27 Oct 2011 15:26:06 -0700 (PDT)\r\nDate: Fri, 28 Oct 2011 09:26:06 +1100\r\nMessage-ID: &lt;CA+duimMEzW2n6CW_Q1f6aJvX_DqPiN7nDHyuymgqV_-ePRgzCA@...&gt;\r\nTo: neat@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000e0cd1af2e37912704b04f427f\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Oliver Coleman &lt;oliver.coleman@...&gt;\r\nSubject: Re: IlligalStateException: sum diff &gt; max sum diff\r\nX-Yahoo-Group-Post: member; u=234577593; y=ep1-H8V9v_xc_SEKulAdV0AtnWjpiqhM2scf9Oga6IuLO8fsOIEZnC73i_UrXdNVlb1bvFDYtw\r\nX-Yahoo-Profile: olivercoleman04\r\n\r\n\r\n--000e0cd1af2e37912704b04f427f\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nHi Allison,\n\nAfter a quick search of the ANJI source I found that this exception is\nthrown in the *calculateErrorFitness* method in the *\nNeatTargetFitnessFunction* class in the *com.anji.neat* package (see source\nbelow).\n\nThis function calculates a fitness value based on the sum of the error over\nall responses (from the target response values). To calculate a fitness\nvalue (where bigger is better) from the error value (where smaller is\nbetter) this method needs to know what the maximum possible total error\nvalue can be; it then subtracts the error value from the maximum error value\nto determine a fitness value.\n\nTo determine the maximum possible total error value it needs to know what\nthe minimum and maximum value of individual responses can be. So it looks\nlike perhaps you haven&#39;t specified (somewhere or other) the correct *\nminResponse* and *maxResponse* values as used by this method (or on the\nflip-side the responses produced by your network are out of the range you\nhave specified).\n\nCheers,\nOliver\n\n/**\n * Subtract &lt;code&gt;responses&lt;/code&gt; from targets, sum all differences,\nsubtract from max\n * fitness, and square result.\n *\n * @param responses output top be compared to targets\n * @param minResponse\n * @param maxResponse\n * @return result of calculation\n */\nprotected int calculateErrorFitness( double[][] responses, double\nminResponse, double maxResponse ) {\ndouble maxSumDiff = ErrorFunction.getInstance().getMaxError(\ngetTargets().length * getTargets()[ 0 ].length,\n( maxResponse - minResponse ), SUM_OF_SQUARES );\ndouble maxRawFitnessValue = Math.pow( maxSumDiff, 2 );\n\ndouble sumDiff = ErrorFunction.getInstance().calculateError( getTargets(),\nresponses, false );\nif ( sumDiff &gt; maxSumDiff )\nthrow new IllegalStateException( &quot;sum diff &gt; max sum diff&quot; );\ndouble rawFitnessValue = Math.pow( maxSumDiff - sumDiff, 2 );\ndouble skewedFitness = ( rawFitnessValue / maxRawFitnessValue ) *\nMAX_FITNESS;\nint result = (int) skewedFitness;\nreturn result;\n}\n\r\n--000e0cd1af2e37912704b04f427f\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Allison,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After a quick search of the ANJI source I fo=\r\nund that this exception is thrown in the=A0&lt;i&gt;calculateErrorFitness&lt;/i&gt; met=\r\nhod in the &lt;i&gt;NeatTargetFitnessFunction&lt;/i&gt; class in the &lt;i&gt;com.anji.neat&lt;/=\r\ni&gt; package (see source below).&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This function calc=\r\nulates a fitness value based on the sum of the error over all responses (fr=\r\nom the target response values). To calculate a fitness value (where bigger =\r\nis better) from the error value (where smaller is better) this method needs=\r\n to know what the maximum possible total error value can be; it then subtra=\r\ncts the error value from the maximum error value to determine a fitness val=\r\nue.&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To determine the=A0maximum possible total err=\r\nor value it needs to know what the minimum and maximum value of individual =\r\nresponses can be.=A0So it looks like perhaps you haven&#39;t specified (som=\r\newhere or other) the correct &lt;i&gt;minResponse&lt;/i&gt;=A0and &lt;i&gt;maxResponse&lt;/i&gt; va=\r\nlues as used by this method (or on the flip-side the responses produced by =\r\nyour network are out of the range you have specified).&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div=\r\n&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Oliver&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;/**&lt;/div&gt;&lt;div&gt;=\r\n&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; * Subtrac=\r\nt &lt;code&gt;responses&lt;/code&gt; from targets, sum all differences, sub=\r\ntract from max&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-spa=\r\nce:pre&quot;&gt;\t&lt;/span&gt; * fitness, and square result.&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;App=\r\nle-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; *=A0&lt;/div&gt;&lt;div&gt;&lt;span class=\r\n=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; * @param responses o=\r\nutput top be compared to targets&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; =\r\nstyle=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; * @param minResponse&lt;/div&gt;&lt;div&gt;&lt;span cla=\r\nss=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; * @param maxRespon=\r\nse&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/sp=\r\nan&gt; * @return result of calculation&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;Apple-tab-spa=\r\nn&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt; */&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab=\r\n-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;protected int calculateErrorFitnes=\r\ns( double[][] responses, double minResponse, double maxResponse ) {&lt;/div&gt;\n&lt;=\r\ndiv&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;doubl=\r\ne maxSumDiff =3D ErrorFunction.getInstance().getMaxError(&lt;/div&gt;&lt;div&gt;&lt;span c=\r\nlass=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t\t\t&lt;/span&gt;getTargets().l=\r\nength * getTargets()[ 0 ].length,&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot;=\r\n style=3D&quot;white-space:pre&quot;&gt;\t\t\t\t&lt;/span&gt;( maxResponse - minResponse ), SUM_OF=\r\n_SQUARES );&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:p=\r\nre&quot;&gt;\t\t&lt;/span&gt;double maxRawFitnessValue =3D Math.pow( maxSumDiff, 2 );&lt;/div&gt;=\r\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pr=\r\ne&quot;&gt;\t\t&lt;/span&gt;double sumDiff =3D ErrorFunction.getInstance().calculateError( =\r\ngetTargets(), responses, false );&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; =\r\nstyle=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;if ( sumDiff &gt; maxSumDiff )&lt;/div&gt;\n&lt;di=\r\nv&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t\t&lt;/span&gt;throw =\r\nnew IllegalStateException( &quot;sum diff &gt; max sum diff&quot; );&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;doubl=\r\ne rawFitnessValue =3D Math.pow( maxSumDiff - sumDiff, 2 );&lt;/div&gt;\n&lt;div&gt;&lt;span=\r\n class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;double skewedF=\r\nitness =3D ( rawFitnessValue / maxRawFitnessValue ) * MAX_FITNESS;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;span class=3D&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;int res=\r\nult =3D (int) skewedFitness;&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;Apple-tab-span&quot; styl=\r\ne=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;return result;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Appl=\r\ne-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;\n\r\n--000e0cd1af2e37912704b04f427f--\r\n\n"}}