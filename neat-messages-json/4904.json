{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":344770313,"authorName":"Colin Green","from":"Colin Green &lt;colin.green1@...&gt;","profile":"alienseedpod","replyTo":"LIST","senderId":"fJyKuwvJc1QxhJvIkJjzxQSS0-2r8jzn-uj4X_TQH50zzP1W8KDbi6NbthbupVlepoit4ihlA75NvzYzE8ATMZF-YJVvKlCqXK5CrT7SPbI","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [neat] spawning overflow","postDate":"1258804107","msgId":4904,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDcyN2E0MDZjMDkxMTIxMDM0OHUyMDE1MGRkOW9lYmYwODA3ZTQ5MmJkODViQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PGhlNmZzaStubnRkQGVHcm91cHMuY29tPg==","referencesHeader":"PGhlNmZzaStubnRkQGVHcm91cHMuY29tPg=="},"prevInTopic":4903,"nextInTopic":4906,"prevInTime":4903,"nextInTime":4905,"topicId":4903,"numMessagesInTopic":4,"msgSnippet":"2009/11/20 rvonwahlde  ... species spawns is greater than the desired ... Hi, I d strongly recommend taking a look at the sharpneat 2","rawEmail":"Return-Path: &lt;colin.green1@...&gt;\r\nX-Sender: colin.green1@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nX-Received: (qmail 94809 invoked from network); 21 Nov 2009 11:48:28 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m14.grp.re1.yahoo.com with QMQP; 21 Nov 2009 11:48:28 -0000\r\nX-Received: from unknown (HELO mail-yx0-f185.google.com) (209.85.210.185)\n  by mta2.grp.sp2.yahoo.com with SMTP; 21 Nov 2009 11:48:28 -0000\r\nX-Received: by mail-yx0-f185.google.com with SMTP id 15so3981294yxe.9\n        for &lt;neat@yahoogroups.com&gt;; Sat, 21 Nov 2009 03:48:27 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.91.18.13 with SMTP id v13mr3965819agi.28.1258804107451; Sat, \n\t21 Nov 2009 03:48:27 -0800 (PST)\r\nIn-Reply-To: &lt;he6fsi+nntd@...&gt;\r\nReferences: &lt;he6fsi+nntd@...&gt;\r\nDate: Sat, 21 Nov 2009 11:48:27 +0000\r\nMessage-ID: &lt;727a406c0911210348u20150dd9oebf0807e492bd85b@...&gt;\r\nTo: neat@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001485f87c3eaa9eab0478e02b41\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Colin Green &lt;colin.green1@...&gt;\r\nSubject: Re: [neat] spawning overflow\r\nX-Yahoo-Group-Post: member; u=344770313; y=AlY_3wrm0-uDE5bJK09LXjHPbKCDsMixkVwy9TwmFJ_pGK0CVaW_\r\nX-Yahoo-Profile: alienseedpod\r\n\r\n\r\n--001485f87c3eaa9eab0478e02b41\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\n2009/11/20 rvonwahlde &lt;rvonwahlde@...&gt;\n&gt;  How do you work around the problem when the total number of children each\nspecies spawns is greater than the desired\n&gt;  population size?\n\n\nHi,\n\nI&#39;d strongly recommend taking a look at the sharpneat 2 development code as\nI put a lot of thought into how best to handle this issue.\n\nThe latest code is available at the bottom of this page:\n   http://sites.google.com/site/sharpneat/dev-releases-status\n\nThe bit of code file to look in is:\n   SharpNeatLib&#92;EvolutionAlgorithms&#92;NeatEvolutionAlgorithm.cs\n\nIn particular this method:\n   private SpecieStats[] CalcSpecieStats(out int offspringCount) {...}\n\n\nBTW I tend to use the word &#39;specie&#39; quite a lot in the code to indicate a\nsingle species - it&#39;s not very good english but it make the code and\ncomments less ambiguous and easier to read.\n\n\nIn a nutshell it goes something like this:\n1) Determine size of each specie usign fitness sharing maths. Note that this\nis a real number and we ultimatley want an int.\n2) We could use normal rounding but that would that causes some\nbias/unfairness in the size fo some species, e.g. if the size was\nconsistently 6.5 it would consistently get rounded down to 6. So I use a\nprobabilistic/stochastic rounding whereby I take the fractional part of the\nnumber as the probability the number will get rounded up.\n3) The stochastic rounding can result in the total # of offspring being out\nby a few, so there&#39;s an aditional bit of code to adjust specie sizes up and\ndown accordingly - based on whether species are under/over allocated\n(comparing their real target size with the rounded one). There are a  few\nother caveats handled in there as well, such as as ensuring we don&#39;t throw\naway specie exemplars as you mentioned, factoring in the the elitesize&#39; (#\nof elite genomes in a specie), etc.\n\n\n\nNow as it happens I&#39;ve been reviewing the core code, rewriting bits and\npieces and generally cleaning up and writing comments; However,\nNeatEvolutionAlgorithm.cs is one of the remaining classes I haven&#39;t cleaned\nup yet. That said it&#39;s pretty clear, it&#39;s just there are a few commented out\nbit&#39;s and pieces I need to clean up - it is working/tested code.\n\nColin.\n\r\n--001485f87c3eaa9eab0478e02b41\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n2009/11/20 rvonwahlde &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:rvonwahlde@ya=\r\nhoo.com&quot;&gt;rvonwahlde@...&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&gt;&lt;span&gt;=A0&lt;/span&gt;\n\n\n\n  \n=\r\n\n\n    \n      \n      \n      How do you work\naround the problem when the tota=\r\nl number of children each species\nspawns is greater than the desired &lt;br&gt;&g=\r\nt;=A0 population size?&lt;br&gt;&lt;br&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;I&#39;d strongly recommend tak=\r\ning a look at the sharpneat 2 development code as I put a lot of thought in=\r\nto how best to handle this issue.&lt;br&gt;\n&lt;br&gt;The latest code is available at t=\r\nhe bottom of this page:&lt;br&gt;=A0=A0 &lt;a href=3D&quot;http://sites.google.com/site/s=\r\nharpneat/dev-releases-status&quot;&gt;http://sites.google.com/site/sharpneat/dev-re=\r\nleases-status&lt;/a&gt;&lt;br&gt;&lt;br&gt;The bit of code file to look in is:&lt;br&gt;\n=A0=A0 Sha=\r\nrpNeatLib&#92;EvolutionAlgorithms&#92;NeatEvolutionAlgorithm.cs&lt;br&gt;=A0=A0 &lt;br&gt;In pa=\r\nrticular this method:&lt;br&gt;=A0=A0 private SpecieStats[] CalcSpecieStats(out i=\r\nnt offspringCount) {...}&lt;br&gt;&lt;br&gt;&lt;br&gt;BTW I tend to use the word &#39;specie&=\r\n#39; quite a lot in the code to indicate a single species - it&#39;s not ve=\r\nry good english but it make the code and comments less ambiguous and easier=\r\n to read.&lt;br&gt;\n&lt;br&gt;&lt;br&gt;In a nutshell it goes something like this:&lt;br&gt;1) Dete=\r\nrmine size of each specie usign fitness sharing maths. Note that this is a =\r\nreal number and we ultimatley want an int.&lt;br&gt;2) We could use normal roundi=\r\nng but that would that causes some bias/unfairness in the size fo some spec=\r\nies, e.g. if the size was consistently 6.5 it would consistently get rounde=\r\nd down to 6. So I use a probabilistic/stochastic rounding whereby I take th=\r\ne fractional part of the number as the probability the number will get roun=\r\nded up.&lt;br&gt;\n3) The stochastic rounding can result in the total # of offspri=\r\nng being out by a few, so there&#39;s an aditional bit of code to adjust sp=\r\necie sizes up and down accordingly - based on whether species are under/ove=\r\nr allocated (comparing their real target size with the rounded one). There =\r\nare a=A0 few other caveats handled in there as well, such as as ensuring we=\r\n don&#39;t throw away specie exemplars as you mentioned, factoring in the t=\r\nhe elitesize&#39; (# of elite genomes in a specie), etc.&lt;br&gt;\n&lt;br&gt;&lt;br&gt;&lt;br&gt;No=\r\nw as it happens I&#39;ve been reviewing the core code, rewriting bits and p=\r\nieces and generally cleaning up and writing comments; However, NeatEvolutio=\r\nnAlgorithm.cs is one of the remaining classes I haven&#39;t cleaned up yet.=\r\n That said it&#39;s pretty clear, it&#39;s just there are a few commented o=\r\nut bit&#39;s and pieces I need to clean up - it is working/tested code.&lt;br&gt;=\r\n\n&lt;br&gt;Colin.&lt;br&gt;&lt;br&gt;&lt;br&gt;\n\r\n--001485f87c3eaa9eab0478e02b41--\r\n\n"}}