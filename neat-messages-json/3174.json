{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":292213213,"authorName":"shanemcdonaldryan","from":"&quot;shanemcdonaldryan&quot; &lt;shanemcdonaldryan@...&gt;","profile":"shanemcdonaldryan","replyTo":"LIST","senderId":"IfnOKVswJ3uDPGkBKA__kvPHlActGIoCjU3dYMeT5LLc14HOlohQM9vfJmDT7DZzn0gUQNMF_RHzHWRO0Nxt1BHC3kG-azK-yArNzRQ9GCyBIU57LhiRSg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Computation Time","postDate":"1176998907","msgId":3174,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwODQ1cisxZWhrQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDhCM0IzQjQzLTBBRjctNDlCMS05OUYxLTlGQjMyRjBENjIxOUB3YWl0cy5uZXQ+"},"prevInTopic":3173,"nextInTopic":3175,"prevInTime":3173,"nextInTime":3175,"topicId":845,"numMessagesInTopic":99,"msgSnippet":"How would I get GCC to auto-vectorize it? I ve enabled auto-vectorization (flags -ftree-vectorize -msse2 -ftree-vectorizer-verbose=5 ) and I ve re-written the","rawEmail":"Return-Path: &lt;shanemcdonaldryan@...&gt;\r\nX-Sender: shanemcdonaldryan@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nReceived: (qmail 7085 invoked from network); 19 Apr 2007 16:10:14 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m50.grp.scd.yahoo.com with QMQP; 19 Apr 2007 16:10:14 -0000\r\nReceived: from unknown (HELO n26c.bullet.scd.yahoo.com) (66.218.67.218)\n  by mta5.grp.scd.yahoo.com with SMTP; 19 Apr 2007 16:10:14 -0000\r\nReceived: from [209.73.164.83] by n26.bullet.scd.yahoo.com with NNFMP; 19 Apr 2007 16:08:29 -0000\r\nReceived: from [66.218.66.88] by t7.bullet.scd.yahoo.com with NNFMP; 19 Apr 2007 16:08:29 -0000\r\nDate: Thu, 19 Apr 2007 16:08:27 -0000\r\nTo: neat@yahoogroups.com\r\nMessage-ID: &lt;f0845r+1ehk@...&gt;\r\nIn-Reply-To: &lt;8B3B3B43-0AF7-49B1-99F1-9FB32F0D6219@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;shanemcdonaldryan&quot; &lt;shanemcdonaldryan@...&gt;\r\nSubject: Re: Computation Time\r\nX-Yahoo-Group-Post: member; u=292213213; y=aGgTSSM-vh58tJbn_Ur9vbK-QLFD8cGMRU5MT0LucWNZRdQ0DQ99peALucU\r\nX-Yahoo-Profile: shanemcdonaldryan\r\n\r\nHow would I get GCC to auto-vectorize it? I&#39;ve enabled\nauto-vectorization (=\r\nflags -ftree-vectorize -msse2\n-ftree-vectorizer-verbose=3D5 ) and I&#39;ve re-w=\r\nritten the code for\nevaluating the polynomial in the form of a for loop. Bu=\r\nt GCC says it\ncan&#39;t (&quot;not vectorized: unsupported use in stmt.&quot;). In its cu=\r\nrrent\nform I couldn&#39;t see how it could be vectorized however as the previou=\r\ns\nvalues affect following values. But I am probably missing something\nreall=\r\ny simple. Oh and I am using GCC 4.1.2 on an intel core 2 duo.\n\nThe new code=\r\n I am trying to vectorize is below.\n\nThanks,\n\nShane\n\n\nconst float SigmoidVe=\r\nctorized(const float aNetinput, const float\naResponse)\n{\n\tconst unsigned in=\r\nt tSize_of_polynomial =3D 7;\n\tconst float tCoEfficients[tSize_of_polynomial=\r\n] =3D{\n\t\t\t\t\t\t\t\t0.5000f,\n\t\t\t\t\t\t\t\t0.2780f,\n\t\t\t\t\t\t\t\t-0.0474f,\n\t\t\t\t\t\t\t\t-2.4015e=\r\n-004f,\n\t\t\t\t\t\t\t\t8.9276e-004f,\n\t\t\t\t\t\t\t\t-9.0291e-005f,\n\t\t\t\t\t\t\t\t2.8028e-006f\n\t\t=\r\n\t\t\t\t\t};\n\n\tconst float tUpperAndLowerLimit =3D 7.92871952056884f;\n\n\tfloat x =\r\n=3D aNetinput / aResponse;\n\n\tif( x &gt; tUpperAndLowerLimit)\n\t\treturn 1.0f;\n\n\t=\r\nif(x &lt; -tUpperAndLowerLimit)\n\t\treturn 0.0f;\n\n\tbool tLessThanZero =3D false;=\r\n\n\n\tif(x &lt; 0.0f)\n\t{\n\t\tx *=3D -1.0f;\n\t\ttLessThanZero =3D true;\n\t}\n\n\tfloat xmu=\r\nl =3D 1.0f;\n\tfloat tOutput1 =3D tCoEfficients[0];\n\n\tfor(unsigned int i=3D1;=\r\n i &lt; tSize_of_polynomial; i++)\n\t{\n\t\txmul *=3D x;\n\t\ttOutput1 +=3D tCoEfficie=\r\nnts[i]*xmul;\n\t}\n\n\tassert(tOutput1 &lt;=3D 1.0f);\n\n\tif(!tLessThanZero)\n\t\treturn=\r\n tOutput1;\n\telse\n\t\treturn 1.0f - tOutput1;\n}\n\n\n--- In neat@yahoogroups.com,=\r\n Stephen Waits &lt;steve@...&gt; wrote:\n&gt;\n&gt; \n&gt; On Apr 18, 2007, at 9:02 AM, shane=\r\nmcdonaldryan wrote:\n&gt; \n&gt; &gt; I think this approximated sigmoid will give at\n&gt;=\r\n &gt; least a 50% real gain in performance for the problems I am working on\n&gt; =\r\n\n&gt; That&#39;s great Shane.  I love optimizing code.\n&gt; \n&gt; You may also want to t=\r\nake a look at the LUT version in Jason Gauci&#39;s  \n&gt; recently released NEAT c=\r\node.  It may be faster yet.  I wouldn&#39;t be  \n&gt; surprised if it&#39;s slower eit=\r\nher though.\n&gt; \n&gt; Otherwise, one further improvement you can get in your pol=\r\nynomial  \n&gt; version is to vectorize it.  GCC4 does some autovectorization, =\r\nbut it  \n&gt; might be picky about its input.\n&gt; \n&gt; --Steve\n&gt;\n\n\n\n"}}