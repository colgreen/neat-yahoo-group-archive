{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":211599040,"authorName":"Jeff Clune","from":"Jeff Clune &lt;jclune@...&gt;","profile":"jeffreyclune","replyTo":"LIST","senderId":"7CrnnA8A0EvwoQdIHHPos2saBCwge4Oe0WG822EvrRC2x6aqUJYojseeczGAU6bjqa7PsXeQBm4eG-vyzXxwRvg5","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [neat] Re: Crossover doing anything in HyperNEAT and PNEAT?","postDate":"1226269021","msgId":4429,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEM1M0NDQjhELjI2MzlBJWpjbHVuZUBtc3UuZWR1Pg==","inReplyToHeader":"PGdmN24xYitmdWZqQGVHcm91cHMuY29tPg=="},"prevInTopic":4428,"nextInTopic":4430,"prevInTime":4428,"nextInTime":4430,"topicId":4425,"numMessagesInTopic":16,"msgSnippet":"... Thanks Petar. I am confident that HyperNEAT 2.5 chooses the parent outside the loop, and thus grabs all links from either parent1 or parent2. What I am ","rawEmail":"Return-Path: &lt;jclune@...&gt;\r\nX-Sender: jclune@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nX-Received: (qmail 84037 invoked from network); 9 Nov 2008 22:17:10 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m45.grp.scd.yahoo.com with QMQP; 9 Nov 2008 22:17:10 -0000\r\nX-Received: from unknown (HELO yw-out-1718.google.com) (74.125.46.153)\n  by mta15.grp.scd.yahoo.com with SMTP; 9 Nov 2008 22:17:10 -0000\r\nX-Received: by yw-out-1718.google.com with SMTP id 5so824879ywr.28\n        for &lt;neat@yahoogroups.com&gt;; Sun, 09 Nov 2008 14:17:10 -0800 (PST)\r\nX-Received: by 10.150.228.19 with SMTP id a19mr8506466ybh.177.1226269029519;\n        Sun, 09 Nov 2008 14:17:09 -0800 (PST)\r\nReturn-Path: &lt;jclune@...&gt;\r\nX-Received: from ?192.168.2.3? (c-98-209-38-75.hsd1.mi.comcast.net [98.209.38.75])\n        by mx.google.com with ESMTPS id 9sm8094160ywf.2.2008.11.09.14.17.06\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Sun, 09 Nov 2008 14:17:08 -0800 (PST)\r\nUser-Agent: Microsoft-Entourage/12.13.0.080930\r\nDate: Sun, 09 Nov 2008 17:17:01 -0500\r\nTo: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\r\nMessage-ID: &lt;C53CCB8D.2639A%jclune@...&gt;\r\nThread-Topic: [neat] Re: Crossover doing anything in HyperNEAT and PNEAT?\r\nThread-Index: AclCuOMzYgk2HhDNDkOR5iHRx4B/4w==\r\nIn-Reply-To: &lt;gf7n1b+fufj@...&gt;\r\nMime-version: 1.0\r\nContent-type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-transfer-encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jeff Clune &lt;jclune@...&gt;\r\nSubject: Re: [neat] Re: Crossover doing anything in HyperNEAT and PNEAT?\r\nX-Yahoo-Group-Post: member; u=211599040; y=QX41tWtElgdzPORNNqqTeUh5yPP5wV8COwt0ftoW0bPveRSbMMHG\r\nX-Yahoo-Profile: jeffreyclune\r\n\r\n&gt; Well yes this is exactly what it has to be. Note that randomChoice has\n&gt; to be random every time you refer to it. If it is not random (i.e.\n&gt; outside the big loop) then you choose links from either parent. But if\n&gt; it is inside the loop, then you choose a gene randomly from either\n&gt; parent. Check this out and you will have a clearer picture if there is\n&gt; a bug or not. \n\nThanks Petar. I am confident that HyperNEAT 2.5 chooses the parent outside\nthe loop, and thus grabs all links from either parent1 or parent2. What I am\ntrying to find out is whether this is by design, or if it is a bug.\n\nDo you (or anyone else) happen to know how it works in other NEAT packages,\nin particular Ken&#39;s original NEAT code? My guess is that we are supposed to\nbe grabbing some links from parent1 and some other links from parent2,\ninstead of one or the other. I can go check those packages, of course, but I\nwon&#39;t be able to do that for a little while and was wondering if any of you\nknew off the top of your heads.\n\n&gt; But the cloning issue is a deeper one. In this case you must ensure\n&gt; that individuals should not mate with themselves or such ones that\n&gt; have zero compatibility distance. Or at least try a few hundred times\n&gt; to find a different mate :) Hey, I say this to all users. Don&#39;t use\n&gt; rand(), fuck that, use the Mersenne Twister instead. I noticed that in\n&gt; enhances performance!\n\nFair enough, but right now I am more focused on the more immediate issue\nabove. Thanks for the suggestions, though. I will delve into them when I\nresolve the other issue.\n\nThanks. Jeff. \n&gt; \n&gt; Peter\n&gt; \n&gt; --- In neat@yahoogroups.com, Jeff Clune &lt;jclune@...&gt; wrote:\n&gt;&gt; \n&gt;&gt; Hi Petar-\n&gt;&gt; \n&gt;&gt; Thanks for the reply. I do not have a (non-HyperNEAT) NEAT package\n&gt; around.\n&gt;&gt; Can you let me know if your NEAT implementation is different than\n&gt; what I\n&gt;&gt; report below?\n&gt;&gt; \n&gt;&gt; I am using Jason&#39;s HyperNEAT 2.5 package available here:\n&gt;&gt; \n&gt;&gt; http://eplex.cs.ucf.edu/software.html\n&gt;&gt; \n&gt;&gt; If you download the package, the key file is:\n&gt;&gt; HyperNEAT/NEAT/src/NEAT_GeneticIndividual.cpp\n&gt;&gt; \n&gt;&gt; I am attaching it, but I don&#39;t know how that works with the yahoo\n&gt; group.\n&gt;&gt; \n&gt;&gt; Crossover occurs in this constructor:\n&gt;&gt; \n&gt;&gt;     \n&gt; GeneticIndividual::GeneticIndividual(shared_ptr&lt;GeneticIndividual&gt;\n&gt;&gt; parent1,shared_ptr&lt;GeneticIndividual&gt; parent2,bool\n&gt; mate_multipoint_avg)\n&gt;&gt; \n&gt;&gt; The following line occurs outside of the loop that goes through each\n&gt; link:\n&gt;&gt; \n&gt;&gt;  bool chooseFirstParent = (randomChoice&lt;=parent1-&gt;getFitness());\n&gt;&gt;  \n&gt;&gt; Then, inside the loop for each link:\n&gt;&gt; \n&gt;&gt;                     if (chooseFirstParent)\n&gt;&gt;                     {\n&gt;&gt;                         addLink(GeneticLinkGene(*link1));\n&gt;&gt;                     }\n&gt;&gt;                     else\n&gt;&gt;                     {\n&gt;&gt;                         addLink(GeneticLinkGene(*link2));\n&gt;&gt;                     }\n&gt;&gt;  \n&gt;&gt; So, it seems that *all* the links will be grabbed from one parent or\n&gt; the\n&gt;&gt; other. Is that how it works in other versions of NEAT?\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; Cheers,\n&gt;&gt; Jeff Clune\n&gt;&gt; \n&gt;&gt; Digital Evolution Lab, Michigan State University\n&gt;&gt; \n&gt;&gt; jclune@...\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt;&gt; From: petar_chervenski &lt;petar_chervenski@...&gt;\n&gt;&gt;&gt; Reply-To: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\n&gt;&gt;&gt; Date: Sun, 09 Nov 2008 20:14:32 -0000\n&gt;&gt;&gt; To: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\n&gt;&gt;&gt; Subject: [neat] Re: Crossover doing anything in HyperNEAT and\n&gt; PNEAT?\n&gt;&gt;&gt; \n&gt;&gt;&gt; Hi Jeff, \n&gt;&gt;&gt; \n&gt;&gt;&gt; Well I don&#39;t know about the exact implementations of HyperNEAT you\n&gt; are\n&gt;&gt;&gt; using (note that P-NEAT is just NEAT with additive mutations\n&gt;&gt;&gt; disabled), but in principle crossover should choose genes randomly\n&gt;&gt;&gt; from both parents as it builds the offspring genome, the child. In\n&gt;&gt;&gt; HyperNEAT the crossover is different, there you actually do a\n&gt; regular\n&gt;&gt;&gt; NEAT evolution of networks that build other networks based on the\n&gt;&gt;&gt; substrate configuration. That is, you only mate and mutate the\n&gt; CPPNs.\n&gt;&gt;&gt; But in the case you get lots of individuals with equal fitness, I\n&gt;&gt;&gt; guess these individuals are clones. Perhaps the code frequently\n&gt;&gt;&gt; chooses the same individuals for mating? You can try to avoid this\n&gt; by\n&gt;&gt;&gt; introducing a loop in which you try candidates for a &quot;father&quot; that\n&gt; are\n&gt;&gt;&gt; not compatible with the mother, that is, when their compatibility\n&gt;&gt;&gt; distance is 0.00, try again. There is another possibility, simply\n&gt;&gt;&gt; every mutation disturbs the CPPN and therefore the produced\n&gt; network is\n&gt;&gt;&gt; changed in such a magnitude that is has no chance for survival and\n&gt; is\n&gt;&gt;&gt; discarded. Even though there is speciation.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Peter\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; --- In neat@yahoogroups.com, Jeff Clune &lt;jclune@&gt; wrote:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Hello all-\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Does crossover do anything in PNEAT and HyperNEAT?\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; PNEAT:\n&gt;&gt;&gt;&gt; If I am reading the code correctly, during crossover, if the\n&gt;&gt;&gt; substrates are\n&gt;&gt;&gt;&gt; the same (i.e. all links have the same ID), which is always the\n&gt; case\n&gt;&gt;&gt; in\n&gt;&gt;&gt;&gt; P-NEAT, *all* of the link values are taken from either parent1 or\n&gt;&gt;&gt; parent2.\n&gt;&gt;&gt;&gt; Isn&#39;t it more normal when crossing over to take some from parent1\n&gt;&gt;&gt; and some\n&gt;&gt;&gt;&gt; from parent2? Why grab all from just one?\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; This means that in PNEAT crossover does nothing, right? It will\n&gt;&gt;&gt; always grab\n&gt;&gt;&gt;&gt; the substrate of parent1 or the substrate of parent2.  If I track\n&gt;&gt;&gt; parent and\n&gt;&gt;&gt;&gt; offspring fitness, 100% of the time the child has the exact same\n&gt;&gt;&gt; fitness as\n&gt;&gt;&gt;&gt; one of the two parents.\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; On to HyperNEAT:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; I tracked the fitness of each parent and the resulting offspring.\n&gt;&gt;&gt; The odd\n&gt;&gt;&gt;&gt; thing is that the organisms that are crossed only (i.e. they are\n&gt;&gt;&gt; never\n&gt;&gt;&gt;&gt; mutated) have the *exact* same fitness of one of their parents\n&gt;&gt;&gt; 98.88% of the\n&gt;&gt;&gt;&gt; time. In 20 runs, that was only 136 orgs out of 12257 that were\n&gt;&gt;&gt; crossed over\n&gt;&gt;&gt;&gt; and not mutated. That seems wrong, doesn&#39;t it? Why would these\n&gt; new\n&gt;&gt;&gt; links\n&gt;&gt;&gt;&gt; have such a small impact? It turns out that this is because\n&gt; nearly\n&gt;&gt;&gt; every\n&gt;&gt;&gt;&gt; time that there is an extra link that gets placed in the child,\n&gt; the\n&gt;&gt;&gt; parent\n&gt;&gt;&gt;&gt; that donated that link is also the parent whose weights are being\n&gt;&gt;&gt; grabbed,\n&gt;&gt;&gt;&gt; meaning that the crossover is only copying the parent (hence the\n&gt;&gt;&gt; same\n&gt;&gt;&gt;&gt; fitness). It seems to me that crossover should be much more\n&gt;&gt;&gt; disruptive, no?\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; As a final test, I did a set of hyperneat and pneat runs with the\n&gt;&gt;&gt; default\n&gt;&gt;&gt;&gt; &#39;MutateOnlyProbability&#39; parameter set to .25, so 25% of orgs\n&gt; never\n&gt;&gt;&gt; are\n&gt;&gt;&gt;&gt; candidates for crossover. I then ran experimental treatments\n&gt;&gt;&gt;&gt; hyperneat-noCross and pneat-noCross where the\n&gt; MutateOnlyProbability\n&gt;&gt;&gt;&gt; parameter was set to 1, so no orgs were crossed over. Despite my\n&gt;&gt;&gt; comments\n&gt;&gt;&gt;&gt; above, Hyperneat (with cross) did beat HyperNEAT-noCross, however\n&gt;&gt;&gt; the\n&gt;&gt;&gt;&gt; difference was not tremendous (although it does seem to be\n&gt;&gt;&gt; statistically\n&gt;&gt;&gt;&gt; significant). For p-neat, the reverse was true. Nevertheless,\n&gt; this\n&gt;&gt;&gt; is not a\n&gt;&gt;&gt;&gt; perfect test of whether crossover pays dividends, because if\n&gt;&gt;&gt; crossover does\n&gt;&gt;&gt;&gt; nothing most of the time, and I increase MutateOnlyProbability\n&gt; from\n&gt;&gt;&gt; .25 to\n&gt;&gt;&gt;&gt; 1, I have effectively raised the mutation rate (only 80% of\n&gt; crossed\n&gt;&gt;&gt; orgs are\n&gt;&gt;&gt;&gt; also mutated).\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Are these the intended consequences of crossover, or am I missing\n&gt;&gt;&gt; something?\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Cheers,\n&gt;&gt;&gt;&gt; Jeff Clune\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Digital Evolution Lab, Michigan State University\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; jclune@\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt; \n&gt; \n&gt; \n&gt; \n\n\n\n"}}