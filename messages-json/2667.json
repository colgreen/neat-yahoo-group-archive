{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221372007,"authorName":"petervermont","from":"&quot;petervermont&quot; &lt;pandrews@...&gt;","profile":"petervermont","replyTo":"LIST","senderId":"wC5zKhS60ak3EA5iDGeLANskFRCqly7Jz-4SvbJT09bA4UEWYPsb1oUZdM-qS16VNGuoYxf-hIsDfQqHh1Q3cluvWnX1G4tzAU2Uk94LtEKN","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Loss of most fit species in SharpNEAT?","postDate":"1152901361","msgId":2667,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU5OG5kaCt0c21qQGVHcm91cHMuY29tPg==","inReplyToHeader":"PExFRU9JTk1DSUlLRUZPT0FQUEhQRUVLQkNHQUEuUEFuZHJld3NAYWx1bW5pLmJyb3duLmVkdT4="},"prevInTopic":2666,"nextInTopic":2668,"prevInTime":2666,"nextInTime":2668,"topicId":2663,"numMessagesInTopic":8,"msgSnippet":"I did some further testing and I can easily replicate SharpNEAT losing the most fit individual. To replicate: 1) Choose the Multiplication experiment 2) click","rawEmail":"Return-Path: &lt;pandrews@...&gt;\r\nX-Sender: pandrews@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nReceived: (qmail 97421 invoked from network); 14 Jul 2006 18:23:09 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m30.grp.scd.yahoo.com with QMQP; 14 Jul 2006 18:23:09 -0000\r\nReceived: from unknown (HELO n8c.bullet.sc5.yahoo.com) (66.163.187.199)\n  by mta7.grp.scd.yahoo.com with SMTP; 14 Jul 2006 18:23:09 -0000\r\nReceived: from [66.163.187.122] by n8.bullet.sc5.yahoo.com with NNFMP; 14 Jul 2006 18:22:50 -0000\r\nReceived: from [66.218.69.4] by t3.bullet.sc5.yahoo.com with NNFMP; 14 Jul 2006 18:22:44 -0000\r\nReceived: from [66.218.66.87] by t4.bullet.scd.yahoo.com with NNFMP; 14 Jul 2006 18:22:44 -0000\r\nDate: Fri, 14 Jul 2006 18:22:41 -0000\r\nTo: neat@yahoogroups.com\r\nMessage-ID: &lt;e98ndh+tsmj@...&gt;\r\nIn-Reply-To: &lt;LEEOINMCIIKEFOOAPPHPEEKBCGAA.PAndrews@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;petervermont&quot; &lt;pandrews@...&gt;\r\nSubject: Re: Loss of most fit species in SharpNEAT?\r\nX-Yahoo-Group-Post: member; u=221372007; y=SDeZjayqUuWCvnHJS7jT770nCBBBqnBx5gRij61YnviiTziGnbiD\r\nX-Yahoo-Profile: petervermont\r\n\r\nI did some further testing and I can easily replicate SharpNEAT losing\nthe =\r\nmost fit individual.\n\nTo replicate:\n1) Choose the Multiplication experiment=\r\n\n2) click Load Default Search Parameters\n3) select &#39;Page 2&#39; tab\n4) Set Pop =\r\nSize to 200\n5) change Min Species Threshold to 100\n6) change Max Species  T=\r\nhreshold to 100\n7) select &#39;Page 1&#39; tab\n8) from menu &#39;Initialize Population&#39;=\r\n choose AutoGenerate and click\n&#39;Generate&#39;\n9) Click &#39;Start/Continue&#39;\n10) Wat=\r\nch the &#39;Best&#39; text item under  Current Stats carefully or\n   open a progres=\r\ns window and zoom in to view detailed line graph of\nbest fitness. In both o=\r\nf these displays you should see some\noccassional downward change in the &#39;be=\r\nst&#39; fitness.\n\n\nI know that forcing the species number to be so large seems =\r\nfunky but\nthis just happens to be an easy way to demonstrate the problem --=\r\n on\nlong runs with more reasonable settings I have also seen an\noccassional=\r\n decline in best fitness.\n\nThis may be a red herring but in debugging mode,=\r\n the decline in\nfitness appeared to follow a console statement something li=\r\nke &#39;Ad hoc\nrespeciation&#39;.\n\n\n\n--- In neat@yahoogroups.com, Peter Andrews &lt;pa=\r\nndrews@...&gt; wrote:\n&gt;\n&gt; Thank you for your detailed reply.\n&gt; \n&gt; I am very im=\r\npressed with SharpNEAT. Thanks for sharing it.\n&gt; \n&gt; I do not understand how=\r\n I am losing the most fit. My evaluation\nroutine is\n&gt; completely consistent=\r\n -- I have 500 test cases with expected results\n0 or 1\n&gt; and my fitness per=\r\n individual is 1 - (abs(expectedValue -\noutputValue)) so\n&gt; the best possibl=\r\ne fitness is 500.\n&gt; \n&gt; I do not expect you to debug this but in case it doe=\r\ns catch your\ninterest I\n&gt; have included the relevant files. Here is the sec=\r\ntion for the\napp.config:\n&gt; \n&gt; &lt;experiment&gt;\n&gt; \t&lt;title&gt;Genotype to Phenotype&lt;=\r\n/title&gt;\n&gt; \t&lt;description&gt;Predict an outcome given attribute values. Data is =\r\na tab\n&gt; delimited\n&gt; file with first line defining columns. The last column =\r\nis the expected\n&gt; output (0 or 1).\n&gt; All other columns are attributes with =\r\ntheir values. For example, the\n&gt; attributes might be\n&gt; SNP locations and th=\r\ne values are either 1, 2, or 3 meaning homozygous\n&gt; allele1,\n&gt; heterozygous=\r\n allele1 and allele2, and homozygous allele2 respectively.\n&gt; Datafile url i=\r\ns relative to the location of the SharpNeat.exe\n&gt; file.&lt;/description&gt;\n&gt; \t&lt;a=\r\nssemblyUrl&gt;SharpNeatExperiments.dll&lt;/assemblyUrl&gt;\n&gt; \n&lt;typeName&gt;SharpNeatLib=\r\n.Experiments.GenotypeToPhenotypeExperiment&lt;/typeName&gt;\n&gt; \t&lt;experimentParamet=\r\ners&gt;\n&gt; \t\t&lt;dataFileRelativePath&gt;GenotypeToPhenotypeExperiment/Atrial\n&gt; fibri=\r\nllation.txt\n&gt; \t\t&lt;/dataFileRelativePath&gt;\n&gt; \t&lt;/experimentParameters&gt;\n&gt; &lt;/expe=\r\nriment&gt;\n&gt; \n&gt; The attachments are two zipped folders: one is the src files w=\r\nhich\nbelongs\n&gt; in src/Experiments/SharpNEATExperiments and the other is the=\r\n\ndataFile which\n&gt; should be placed in the same  folder as the SharpNEAT.exe=\r\n\n&gt; \n&gt; \n&gt; I will let you know if I figure out how the most fit species is\nbe=\r\ning lost.\n&gt; \n&gt; Thanks,\n&gt; \n&gt; Peter\n&gt; \n&gt; -----Original Message-----\n&gt; From: n=\r\neat@yahoogroups.com [mailto:neat@yahoogroups.com]On Behalf Of\nColin\n&gt; Green=\r\n\n&gt; Sent: Thursday, July 13, 2006 6:01 PM\n&gt; To: neat@yahoogroups.com\n&gt; Subje=\r\nct: Re: [neat] Loss of most fit species in SharpNEAT?\n&gt; \n&gt; \n&gt; petervermont =\r\nwrote:\n&gt; \n&gt; &gt;I have noticed that my best fitness sometimes declines.\n&gt; &gt;\n&gt; =\r\n&gt;While I can sort of understand this if I have enabled &#39;pruning&#39;, it\n&gt; &gt;als=\r\no occurs even when I disable pruning.\n&gt; &gt;\n&gt; &gt;I suspected that in long runs,=\r\n my most fit individual was stagnant and\n&gt; &gt;stopped improving its fitness a=\r\nnd therefore was being killed when\n&gt; &gt;&#39;Species Dropoff Age&#39; was exceeded. T=\r\no counteract this, I set the\n&gt; &gt;Species Dropoff age to an absurdly large nu=\r\nmber to effectively disable\n&gt; &gt;it but the most fit individual still was eve=\r\nntually killed and my best\n&gt; &gt;fitness declined.\n&gt; &gt;\n&gt; &gt;Since I have the ver=\r\ny nice feature &#39;Save Genome On Improvement&#39;\n&gt; &gt;enabled I guess I don&#39;t mind=\r\n terribly since clearing out species which\n&gt; &gt;have stopped improving makes =\r\nway for other explorations.\n&gt; &gt;\n&gt; &gt;Have other people noticed this? Do you c=\r\nonsider a bug or a feature?\n&gt; &gt;How could I avoid this if I chose to?\n&gt; &gt;\n&gt; =\r\n&gt;\n&gt; \n&gt; Ok two points to start with:\n&gt; \n&gt; 1) SharpNEAT will always preserve =\r\nthe species with the best genome, even\n&gt; if it has reached the drop-off age=\r\n.\n&gt; 2) Pruning isn&#39;t really a factor, if pruning away structure results in\n=\r\n&gt; all of the offspring being less fit then the elite genomes will survive\n&gt;=\r\n through to the next generation. This combined with point (1) means that\n&gt; =\r\nelite genomes can survive indefinitely if necessary and therefore you\n&gt; sho=\r\nuld not see the best fitness fall.\n&gt; \n&gt; There is however one scenario I kno=\r\nw of that can result in the best\n&gt; fitness falling, and that is if an incon=\r\nsistent evaluation scheme is\n&gt; being used. In fact I&#39;m running just such an=\r\n experiment right now - I\n&gt; have some share/stock trading data and I evalua=\r\nte genomes (each\n&gt; representing a trading strategy) over the data, this nor=\r\nmally means that\n&gt; a genome will always give exactly the same fitness score=\r\n. However, in\n&gt; order to improve robustness of the evolved genomes I introd=\r\nuce some\n&gt; noise into the trading data, this means that a given genome&#39;s fi=\r\ntness\n&gt; can actually change from generation to generation. So typically the=\r\n best\n&gt; genome will be re-evaulated over and over again and may give slight=\r\nly\n&gt; different results each time. Now if that varation is large enough then=\r\n\n&gt; another genome (or species) may temporarily become the best, causing the=\r\n\n&gt; previous champ to be lost - or in the case of a species the species&#39; age=\r\n\n&gt; may now be tested against the drop-off threshold causing the whole\n&gt; spe=\r\ncies to be culled.\n&gt; \n&gt; You can alleviate this problem by maintaining an av=\r\nerage score for each\n&gt; genome as they are re-evaluated. I currently do this=\r\n and although it\n&gt; doesn;t rpevent the best fitness from falling it does he=\r\nlp. You can\n&gt; further allieviate the problem by configuring sharpneat to pr=\r\neserve a\n&gt; large proportion of each species on each generation, this is the=\r\n\n&gt; &#39;elitism proportion&#39; setting on the second tab page.\n&gt; \n&gt; These aren&#39;t 1=\r\n00% solutions but I find them acceptible for my own\n&gt; experiments right now=\r\n. In fact I don&#39;t even adjust the elitism\n&gt; proportion, but maybe you want =\r\nto try it.\n&gt; \n&gt; If you think about the natural world then the problem is le=\r\nsser because\n&gt; populations sizes are (normally) so much larger, so good com=\r\nbinations of\n&gt; genomes are going to be surving out there somewhere in some\n=\r\n&gt; sub-population. Also disabling genes rather than deleting them might\n&gt; al=\r\nso help, that way any good combinations are more likely to re-emerge\n&gt; in t=\r\nhe future. I think Ken&#39;s NEAT disabled genes but I took the very\n&gt; simple a=\r\npproach of deleting them.\n&gt; \n&gt; I hope some of that helps,\n&gt; \n&gt; Colin.\n&gt;\n\n\n\n=\r\n\n\n"}}