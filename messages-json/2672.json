{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":221372007,"authorName":"petervermont","from":"&quot;petervermont&quot; &lt;pandrews@...&gt;","profile":"petervermont","replyTo":"LIST","senderId":"wIjvcmi31PGqV-G0LTpVzH7rCXPO5Tncnuixrrp1asApMLrhFlCCpKDM6uTzSNbBovJ-I8rHaaUDMlSDUQlo0S7HWpq1EP1fuVNUto5ZCVt6","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Loss of most fit species in SharpNEAT?","postDate":"1153007703","msgId":2672,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU5YnY4bitmMDJsQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ0Qjk1Q0U2LjEwNTA0MDhAZHNsLnBpcGV4LmNvbT4="},"prevInTopic":2670,"nextInTopic":2680,"prevInTime":2671,"nextInTime":2673,"topicId":2663,"numMessagesInTopic":8,"msgSnippet":"Terrific! Thanks Colin. I am running with the new code now and will be able to confirm whether it fixes my original issue after running for a few hours. As I","rawEmail":"Return-Path: &lt;pandrews@...&gt;\r\nX-Sender: pandrews@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nReceived: (qmail 59580 invoked from network); 15 Jul 2006 23:55:07 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m27.grp.scd.yahoo.com with QMQP; 15 Jul 2006 23:55:07 -0000\r\nReceived: from unknown (HELO n26.bullet.scd.yahoo.com) (66.94.237.55)\n  by mta1.grp.scd.yahoo.com with SMTP; 15 Jul 2006 23:55:06 -0000\r\nReceived: from [66.218.69.3] by n26.bullet.scd.yahoo.com with NNFMP; 15 Jul 2006 23:55:03 -0000\r\nReceived: from [66.218.66.81] by t3.bullet.scd.yahoo.com with NNFMP; 15 Jul 2006 23:55:03 -0000\r\nDate: Sat, 15 Jul 2006 23:55:03 -0000\r\nTo: neat@yahoogroups.com\r\nMessage-ID: &lt;e9bv8n+f02l@...&gt;\r\nIn-Reply-To: &lt;44B95CE6.1050408@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;petervermont&quot; &lt;pandrews@...&gt;\r\nSubject: Re: Loss of most fit species in SharpNEAT?\r\nX-Yahoo-Group-Post: member; u=221372007; y=v4KCkQVSKQHLX2KaIlYfltsBCK40AybbPbW7HLRa5Chnk1Id0izt\r\nX-Yahoo-Profile: petervermont\r\n\r\nTerrific! Thanks Colin.\n\n I am running with the new code now and will be ab=\r\nle to\nconfirm whether it fixes my original issue after running for a few ho=\r\nurs.\n\nAs I mentioned, I initially saw the loss of the best genome when\nrunn=\r\ning with more sensible settings so I suspect that it may happen\nmore freque=\r\nntly than Colin suspects. If I am correct it would be\ninteresting to re-run=\r\n some previous experiments and see if the time to\n reach a certain fitness =\r\nis decreased.\n\nIn order to tell when Colin&#39;s new code is being effective, o=\r\nn my local\ncopy of code, I added a Writeline statement so I could tell when=\r\n the\nbest genome would previously have been removed.\n\n\n--- In neat@yahoogro=\r\nups.com, Colin Green &lt;cgreen@...&gt; wrote:\n&gt;\n&gt; Hi Peter,\n&gt; \n&gt; Ok I was able t=\r\no recreate the problem using the example you gave. John, \n&gt; yes it does see=\r\nm to be a problem caused by the re-speciation and the \n&gt; example Peter gave=\r\n exacerbated the problem by setting a mean species \n&gt; size that was just ha=\r\nlf the population size, thus making the average \n&gt; species size just 2 (gen=\r\nomes). So when I calculate the target size of \n&gt; each species based on the =\r\nfitness of it&#39;s genomes I assumed that the \n&gt; species with the champ in it =\r\nwould always get a target size &gt;0, but\nthis \n&gt; isn&#39;t the case when the mean=\r\n species size is so small - due to rounding \n&gt; down to 0 problem. Also sett=\r\ning the min/max species threshold to the \n&gt; same value causes a lot of addi=\r\nng and removing of species to try to \n&gt; maintain the target number of speci=\r\nes.\n&gt; \n&gt;  I think I have a fix for this problem, although I would hope that=\r\n it \n&gt; isn&#39;t a major issue anyway if the mean species size is set to at lea=\r\nst \n&gt; say 15-20 and there is a gap between the two species target size\nthre=\r\nsholds.\n&gt; \n&gt; Anyway try replacing EvolutionAlgorithm.DetermineSpeciesTarget=\r\nSize() \n&gt; function with the version below. It test for the condition where =\r\nthe \n&gt; target or elitism size has been calculated to be 0 but the species \n=\r\n&gt; contains the best genome.\n&gt; \n&gt; Colin\n&gt; \n&gt; \n&gt;         private void Determi=\r\nneSpeciesTargetSize()\n&gt;         {\n&gt;             foreach(Species species in =\r\npop.SpeciesTable.Values)\n&gt;             {\n&gt;                 species.TargetSi=\r\nze =3D \n&gt; (int)Math.Round((species.MeanFitness / pop.TotalSpeciesMeanFitnes=\r\ns) * \n&gt; pop.PopulationSize);\n&gt; \n&gt;                 // Calculate how many eli=\r\nte genomes to keep in the next \n&gt; round. If this is a large number then we =\r\ncan only\n&gt;                 // keep as many genomes as we have!\n&gt;           =\r\n      species.ElitistSize =3D Math.Min(species.Members.Count, \n&gt; (int)Math.=\r\nFloor(species.TargetSize * neatParameters.elitismProportion));\n&gt;           =\r\n      if((species.TargetSize=3D=3D0 || species.ElitistSize=3D=3D0) && \n&gt; sp=\r\necies.Members[0]=3D=3DbestGenome)\n&gt;                 {   // Ensure we don&#39;t =\r\ncull the species that contains \n&gt; the best genome!\n&gt;                     sp=\r\necies.TargetSize =3D 1;\n&gt;                     species.ElitistSize =3D 1;\n&gt; =\r\n                }\n&gt;                 else if(species.ElitistSize=3D=3D0 && s=\r\npecies.TargetSize\n&gt; 1)\n&gt;                 {    // If ElitistSize is calculat=\r\ned to be zero but the \n&gt; TargetSize non-zero then keep just one genome.\n&gt;  =\r\n                   // If the the TargetSize is 1 then we can&#39;t really \n&gt; do=\r\n this since it would mean that no offspring would be generated.\n&gt;          =\r\n           // So we throw away the one member and hope that\nthe \n&gt; one offs=\r\npring generated will be OK.\n&gt;                     species.ElitistSize =3D 1=\r\n;\n&gt;                 }\n&gt;             }\n&gt;         }\n&gt;\n\n\n\n\n"}}