{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":253727962,"authorName":"ker_31_toluca","from":"&quot;ker_31_toluca&quot; &lt;ker_31_toluca@...&gt;","profile":"ker_31_toluca","replyTo":"LIST","senderId":"yGKWBD9SIpKzit6DLI-Ngh9Sm4-p2ywOyMGgKVWU2oAuFXacqyCmgFWqXc4VRQuV1WW0SNjUHGR2LMJLT8UNp0EOq5Aeq29nfF9Ph0aHSY70GpU","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: my Xor experiment","postDate":"1281303961","msgId":5313,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGkzbjhpcCthMG5qQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGkzbGU0cytjYmFlQGVHcm91cHMuY29tPg=="},"prevInTopic":5312,"nextInTopic":0,"prevInTime":5312,"nextInTime":5314,"topicId":5311,"numMessagesInTopic":3,"msgSnippet":"Hi Jason, ... Ok, but I would like to try it manually first, so I would understand how it works. ... Ok, well, I adjusted the Genes to be like these: ","rawEmail":"Return-Path: &lt;ker_31_toluca@...&gt;\r\nX-Sender: ker_31_toluca@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nX-Received: (qmail 34364 invoked from network); 8 Aug 2010 21:50:16 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 8 Aug 2010 21:50:16 -0000\r\nX-Received: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta1.grp.sp2.yahoo.com with SMTP; 8 Aug 2010 21:50:16 -0000\r\nX-Received: from [69.147.65.172] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 08 Aug 2010 21:46:03 -0000\r\nX-Received: from [98.137.34.184] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 08 Aug 2010 21:46:03 -0000\r\nDate: Sun, 08 Aug 2010 21:46:01 -0000\r\nTo: neat@yahoogroups.com\r\nMessage-ID: &lt;i3n8ip+a0nj@...&gt;\r\nIn-Reply-To: &lt;i3le4s+cbae@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;ker_31_toluca&quot; &lt;ker_31_toluca@...&gt;\r\nSubject: Re: my Xor experiment\r\nX-Yahoo-Group-Post: member; u=253727962; y=i2AHvH3PgWJvZAhP-SQMo-QluWjuaf4BBpXGLy501YOmojU1WIjzoA\r\nX-Yahoo-Profile: ker_31_toluca\r\n\r\n\n\n\n\n\nHi Jason,\n\n&gt; To use HyperNEAT, you need to create a LayeredSubstrate.\n=\r\nOk, but I would like to try it manually first, so I would understand how it=\r\n works.\n&gt; \n&gt; Because Xor takes two inputs, you can treat Xor as a 2d proble=\r\nm as\n&gt; well.  So, your CPPN inputs should be X1, Y1, X2, and Y2 (and \n&gt;opti=\r\nonally a bias code). You should have a CPPN output for each layer\n&gt; of conn=\r\nections, so your cppn outputs should be &quot;Input_Hidden&quot; and \n&gt;&quot;Hidden_Output=\r\n&quot;.  You should name your layers &quot;Input&quot;, &quot;Hidden&quot;, and \n&gt;&quot;Output&quot;.\n&gt; \n\nOk, =\r\nwell, I adjusted the Genes to be like these:\n        genes.push_back(Geneti=\r\ncNodeGene(&quot;Bias&quot;,&quot;NetworkSensor&quot;,0,false));\n        genes.push_back(Genetic=\r\nNodeGene(&quot;X1&quot;,&quot;NetworkSensor&quot;,0,false));\n        genes.push_back(GeneticNod=\r\neGene(&quot;Y1&quot;,&quot;NetworkSensor&quot;,0,false));\n        genes.push_back(GeneticNodeGe=\r\nne(&quot;X2&quot;,&quot;NetworkSensor&quot;,0,false));\n        genes.push_back(GeneticNodeGene(=\r\n&quot;Y2&quot;,&quot;NetworkSensor&quot;,0,false));\n        genes.push_back(GeneticNodeGene(&quot;OH=\r\nidden&quot;,&quot;NetworkOutputNode&quot;,1,false,ACTIVATION_FUNCTION_SIGMOID));\n        g=\r\nenes.push_back(GeneticNodeGene(&quot;OOutput&quot;,&quot;NetworkOutputNode&quot;,1,false,ACTIVA=\r\nTION_FUNCTION_SIGMOID));\n\nI just have one question, why does the Output nod=\r\ne has to be ACTIVATION_FUNCTION_SIGMOID ? The CPPN should be producing a we=\r\night between -3.0f and +3.0f , right? But Sigmoid function will produce wei=\r\nghts between 0 and 1. I have been dumping the weights of produced networks =\r\nand all the weights are in range from -1 to 1 (don&#39;t understand how they go=\r\nt negative with sigmoid function though)\nThis is the example dump of an xor=\r\n network:\nLink 0[0-&gt;3 0.828395]\nLink 1[1-&gt;3 0.841415]\nLink 2[0-&gt;4 0.656422]=\r\n\nLink 3[1-&gt;4 0.679939]\nLink 4[0-&gt;5 0.370929]\nLink 5[1-&gt;5 0.370929]\nLink 6[3=\r\n-&gt;6 0.235968]\nLink 7[4-&gt;6 0.742936]\nLink 8[5-&gt;6 0.932021]\nLink 9[2-&gt;3 0.853=\r\n526]\nLink 10[2-&gt;4 0.702389]\nLink 11[2-&gt;5 0.44223]\nLink 12[2-&gt;6 -0.442632]\n\n=\r\nI have modified processGroup() function to create a network using the layou=\r\nt you described but I still can&#39;t reach fitness above 32000, 31937 is the m=\r\naximum:\n    &lt;GeneticGeneration GenNumber=3D&quot;380&quot; UserData=3D&quot;&quot; AverageFitne=\r\nss=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneratio=\r\nn GenNumber=3D&quot;381&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460=\r\n938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;382&quot; UserData=\r\n=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n   =\r\n &lt;GeneticGeneration GenNumber=3D&quot;383&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937=\r\n.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=\r\n=3D&quot;384&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; Specie=\r\nsCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;385&quot; UserData=3D&quot;&quot; Averag=\r\neFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGen=\r\neration GenNumber=3D&quot;386&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004=\r\n272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;387&quot; Use=\r\nrData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;=\r\n&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;388&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;=\r\n31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenN=\r\number=3D&quot;389&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; S=\r\npeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;390&quot; UserData=3D&quot;&quot; A=\r\nverageFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;Genet=\r\nicGeneration GenNumber=3D&quot;391&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.658021=\r\n45004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;392=\r\n&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=\r\n=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;393&quot; UserData=3D&quot;&quot; AverageFitne=\r\nss=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneratio=\r\nn GenNumber=3D&quot;394&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460=\r\n938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;395&quot; UserData=\r\n=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n   =\r\n &lt;GeneticGeneration GenNumber=3D&quot;396&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937=\r\n.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=\r\n=3D&quot;397&quot; UserData=3D&quot;&quot; AverageFitness=3D&quot;31937.65802145004272460938&quot; Specie=\r\nsCount=3D&quot;1&quot;&gt;\n    &lt;GeneticGeneration GenNumber=3D&quot;398&quot; UserData=3D&quot;&quot; Averag=\r\neFitness=3D&quot;31937.65802145004272460938&quot; SpeciesCount=3D&quot;1&quot;&gt;\n\nI wonder, is i=\r\nt possible to reach 40000 fitness with the model I am using? Maybe I should=\r\n add more hidden nodes? What else do you recommend me to check ? Here is th=\r\ne code I currently use:\nvoid XorExperiment::processGroup(shared_ptr&lt;NEAT::G=\r\neneticGeneration&gt; generation)\n    {\n        NEAT::FastNetwork&lt;float&gt; networ=\r\nk =3D group[0]-&gt;spawnFastPhenotypeStack&lt;float&gt;();\n\tvector&lt;NEAT::NetworkNode=\r\n*&gt; nodes;\n\tvector&lt;NEAT::NetworkLink*&gt; links;\n\n\tdouble weight;\n\n\tint out,in;=\r\n\n\t\n        nodes.push_back(new NEAT::NetworkNode(&quot;Input1&quot;,false));\t\t//\t0\n  =\r\n      nodes.push_back(new NEAT::NetworkNode(&quot;Input2&quot;,false));\t\t//\t1\n       =\r\n nodes.push_back(new NEAT::NetworkNode(&quot;Hidden1&quot;,true));\t\t//\t2\n        node=\r\ns.push_back(new NEAT::NetworkNode(&quot;Hidden2&quot;,true));\t\t// \t3\n        nodes.pu=\r\nsh_back(new NEAT::NetworkNode(&quot;Hidden3&quot;,true));\t\t//\t4\n\tnodes.push_back(new =\r\nNEAT::NetworkNode(&quot;Output&quot;,true));\t\t//\t5\n\tnodes.push_back(new NEAT::Network=\r\nNode(&quot;Bias&quot;,false));\t\t//\t6\n\n        network.reinitialize(); network.setValu=\r\ne(&quot;Bias&quot;,1.0f);\n\n\t// calculate link values between input and hidden nodes\n\t=\r\n// inputs -&gt; hidden\n\t// inputs -&gt; hidden1\n        network.reinitialize(); n=\r\network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValu=\r\ne(&quot;Y1&quot;,0.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,1.0f);\n  =\r\n      network.update();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[0],nod=\r\nes[2],true,network.getValue(&quot;OHidden&quot;)));\n        network.reinitialize(); n=\r\network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValu=\r\ne(&quot;Y1&quot;,1.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,1.0f);\n  =\r\n      network.update();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[1],nod=\r\nes[2],true,network.getValue(&quot;OHidden&quot;)));\n        // inputs -&gt; hidden2\n    =\r\n    network.reinitialize(); network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValu=\r\ne(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,0.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); ne=\r\ntwork.setValue(&quot;Y2&quot;,0.0f);\n        network.update();\n\tlinks.push_back(new N=\r\nEAT::NetworkLink(nodes[0],nodes[3],true,network.getValue(&quot;OHidden&quot;)));\n    =\r\n    network.reinitialize(); network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValu=\r\ne(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,1.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); ne=\r\ntwork.setValue(&quot;Y2&quot;,0.0f);\n        network.update();\n\tlinks.push_back(new N=\r\nEAT::NetworkLink(nodes[1],nodes[3],true,network.getValue(&quot;OHidden&quot;)));\n    =\r\n    // inputs -&gt; hidden3\n        network.reinitialize(); network.setValue(&quot;=\r\nBias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,0.0f);\n\tne=\r\ntwork.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,-1.0f);\n        network.up=\r\ndate();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[0],nodes[4],true,netwo=\r\nrk.getValue(&quot;OHidden&quot;)));\n        network.reinitialize(); network.setValue(=\r\n&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,0.0f);\n\tn=\r\network.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,-1.0f);\n        network.u=\r\npdate();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[1],nodes[4],true,netw=\r\nork.getValue(&quot;OHidden&quot;)));\n\n\t// hidden -&gt; outputs\n\t// hidden1 -&gt; output\n   =\r\n     network.reinitialize(); network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setVal=\r\nue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,1.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); n=\r\network.setValue(&quot;Y2&quot;,0.0f);\n        network.update();\n\tlinks.push_back(new =\r\nNEAT::NetworkLink(nodes[2],nodes[5],true,network.getValue(&quot;OOutput&quot;)));\n\t//=\r\n hidden2 -&gt; output\n        network.reinitialize(); network.setValue(&quot;Bias&quot;,=\r\n1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,0.0f);\n\tnetwork.=\r\nsetValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,0.0f);\n        network.update();=\r\n\n\tlinks.push_back(new NEAT::NetworkLink(nodes[3],nodes[5],true,network.getV=\r\nalue(&quot;OOutput&quot;)));\n\t// hidden3 -&gt; output\n        network.reinitialize(); ne=\r\ntwork.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue=\r\n(&quot;Y1&quot;,-1.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,0.0f);\n  =\r\n      network.update();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[4],nod=\r\nes[5],true,network.getValue(&quot;OOutput&quot;)));\n\n\t// biases\n\t// bias -&gt; hidden1\n =\r\n       network.reinitialize(); network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setV=\r\nalue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,2.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f);=\r\n network.setValue(&quot;Y2&quot;,1.0f);\n        network.update();\n\tlinks.push_back(ne=\r\nw NEAT::NetworkLink(nodes[6],nodes[2],true,network.getValue(&quot;OHidden&quot;)));\n\t=\r\n// bias -&gt; hidden2\n        network.reinitialize(); network.setValue(&quot;Bias&quot;,=\r\n1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue(&quot;Y1&quot;,2.0f);\n\tnetwork.=\r\nsetValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,0.0f);\n        network.update();=\r\n\n\tlinks.push_back(new NEAT::NetworkLink(nodes[6],nodes[3],true,network.getV=\r\nalue(&quot;OHidden&quot;)));\n\t// bias -&gt; hidden3\n        network.reinitialize(); netw=\r\nork.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f); network.setValue(&quot;=\r\nY1&quot;,2.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); network.setValue(&quot;Y2&quot;,-1.0f);\n    =\r\n    network.update();\n\tlinks.push_back(new NEAT::NetworkLink(nodes[6],nodes=\r\n[4],true,network.getValue(&quot;OHidden&quot;)));\n\t// bias -&gt; output\n        network.=\r\nreinitialize(); network.setValue(&quot;Bias&quot;,1.0f);\n\tnetwork.setValue(&quot;X1&quot;,0.0f)=\r\n; network.setValue(&quot;Y1&quot;,2.0f);\n\tnetwork.setValue(&quot;X2&quot;,0.0f); network.setVal=\r\nue(&quot;Y2&quot;,0.0f);\n        network.update();\n\tlinks.push_back(new NEAT::Network=\r\nLink(nodes[6],nodes[5],true,network.getValue(&quot;OOutput&quot;)));\n\n        NEAT::F=\r\nastNetwork&lt;float&gt; xornet(nodes,links);\n\txornet.dump();\n\n        group[0]-&gt;r=\r\neward(10);\n\n        for (int x1=3D0;x1&lt;2;x1++)\n        {\n            for (i=\r\nnt x2=3D0;x2&lt;2;x2++)\n            {\n                xornet.reinitialize();\n\n=\r\n                xornet.setValue(&quot;Input1&quot;,x1);\n                xornet.setVal=\r\nue(&quot;Input2&quot;,x2);\n                xornet.setValue(&quot;Bias&quot;,1.0f);\n\n           =\r\n     xornet.update();\n\n                double value =3D xornet.getValue(&quot;Ou=\r\ntput&quot;);\n\n                double expectedValue =3D (double)(x1 ^ x2);\n\t\tprin=\r\ntf(&quot;value=3D%f, expectedValue=3D%f&#92;n&quot;,value,expectedValue);\n\n              =\r\n  group[0]-&gt;reward(5000*(2-fabs(value-expectedValue)));\n            }\n     =\r\n   }\n    }\n\n\n"}}