{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":211599040,"authorName":"Jeff Clune","from":"Jeff Clune &lt;jclune@...&gt;","profile":"jeffreyclune","replyTo":"LIST","senderId":"6Ol5Et5xFbf3S_2sJNHsNHq6CpX1cmqAvgFvE27ACPiEkanIXvPzvFvvUEuOFfQ9SExxmBEPEp4xSJRI3nGtig7Z","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [neat] Re: Fitness and Selection","postDate":"1267415975","msgId":5125,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEM3QjBBNUQ3LjMwQjFEJWpjbHVuZUBtc3UuZWR1Pg==","inReplyToHeader":"PGhtZjQyNis0NG1jQGVHcm91cHMuY29tPg=="},"prevInTopic":5124,"nextInTopic":5129,"prevInTime":5124,"nextInTime":5126,"topicId":5087,"numMessagesInTopic":8,"msgSnippet":"... Thanks Ken. This is exactly the kind of answer I was hoping for. I also think your example is exactly why we should be using an exponential fitness","rawEmail":"Return-Path: &lt;jclune@...&gt;\r\nX-Sender: jclune@...\r\nX-Apparently-To: neat@yahoogroups.com\r\nX-Received: (qmail 71771 invoked from network); 1 Mar 2010 03:59:40 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m11.grp.re1.yahoo.com with QMQP; 1 Mar 2010 03:59:40 -0000\r\nX-Received: from unknown (HELO mail-iw0-f178.google.com) (209.85.223.178)\n  by mta3.grp.sp2.yahoo.com with SMTP; 1 Mar 2010 03:59:40 -0000\r\nX-Received: by iwn8 with SMTP id 8so2051178iwn.17\n        for &lt;neat@yahoogroups.com&gt;; Sun, 28 Feb 2010 19:59:39 -0800 (PST)\r\nX-Received: by 10.231.59.74 with SMTP id k10mr320908ibh.48.1267415979631;\n        Sun, 28 Feb 2010 19:59:39 -0800 (PST)\r\nReturn-Path: &lt;jclune@...&gt;\r\nX-Received: from ?10.0.1.2? (c-76-20-138-10.hsd1.mi.comcast.net [76.20.138.10])\n        by mx.google.com with ESMTPS id 23sm2693423iwn.2.2010.02.28.19.59.38\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Sun, 28 Feb 2010 19:59:38 -0800 (PST)\r\nUser-Agent: Microsoft-Entourage/12.13.0.080930\r\nDate: Sun, 28 Feb 2010 22:59:35 -0500\r\nTo: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\r\nMessage-ID: &lt;C7B0A5D7.30B1D%jclune@...&gt;\r\nThread-Topic: [neat] Re: Fitness and Selection\r\nThread-Index: Acq485r4J7EcCss96EyQRqQdKc1I9Q==\r\nIn-Reply-To: &lt;hmf426+44mc@...&gt;\r\nMime-version: 1.0\r\nContent-type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-transfer-encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Jeff Clune &lt;jclune@...&gt;\r\nSubject: Re: [neat] Re: Fitness and Selection\r\nX-Yahoo-Group-Post: member; u=211599040; y=D1Isw2OZKRg9i5UCs4JAX-YVJYnIk_5t8ADjsGIHzpp2gKqAGrVH\r\nX-Yahoo-Profile: jeffreyclune\r\n\r\n&gt; However, the place where fitness scales can hamper NEAT is if they are\n&gt; proportionally too narrow.  For example,  if every species has an average\n&gt; fitness between 1001 and 1005, then they will look practically the same to\n&gt; fitness sharing and will all get roughly the same number of offspring.  In\n&gt; that case, speciation won&#39;t really distinguish much between better and worse\n&gt; species.  However, if the average fitnesses were instead between 1 and 5, then\n&gt; the allocations would vary a lot, with many more offspring going to the 5\n&gt; species than the 1 (because 5 is 5 times 1).  This example shows that the\n&gt; range of fitnesses is not the only important consideration.  It is also\n&gt; important how big the range is compared to the absolute magnitude.\n\nThanks Ken. This is exactly the kind of answer I was hoping for.\n\nI also think your example is exactly why we should be using an exponential\nfitness function, otherwise as the baseline fitness increases, the ratio of\nbest vs. median decreases (in many cases).\n\n\n&gt; \n&gt; ken\n&gt; \n&gt; --- In neat@yahoogroups.com, Jeff Clune &lt;jclune@...&gt; wrote:\n&gt;&gt; \n&gt;&gt; Thanks for this answer Ken, and I apologize for the belated reply.\n&gt;&gt; \n&gt;&gt; If you don&#39;t mind, I would still like to try to determine whether it helps\n&gt;&gt; to make fitness functions exponential.\n&gt;&gt; \n&gt;&gt; For example, if you had an evaluation that produced a score, would the\n&gt;&gt; following two fitness functions be equivalent?\n&gt;&gt; \n&gt;&gt; Fitness = 2^score\n&gt;&gt; Fitness = score\n&gt;&gt; \n&gt;&gt; Or would it be better to use the former? In many EAs (at least those with\n&gt;&gt; fitness proportional selection or something similar), people use the\n&gt;&gt; exponential version to magnify the difference in fitness and ensure that\n&gt;&gt; similar increases in fitness are always just as important, even as the base\n&gt;&gt; fitness increases.\n&gt;&gt; \n&gt;&gt; It seems that within a species, if truncation selection is used, it will not\n&gt;&gt; make a difference. How about at the higher level allocation of how many\n&gt;&gt; organisms each species will get (i.e., between-species competition)?\n&gt;&gt; \n&gt;&gt; I know it is hard for you to give a general answer, since different NEAT\n&gt;&gt; implementations may differ in their selection schemes (at both levels?), but\n&gt;&gt; how about for the original NEAT? I am also interested in how things work in\n&gt;&gt; Jason&#39;s HyperNEAT code, if you happen to know the answer to that. I think\n&gt;&gt; Jason used the original NEAT code, so the answer should be the same?\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; Best regards,\n&gt;&gt; Jeff Clune\n&gt;&gt; \n&gt;&gt; Digital Evolution Lab, Michigan State University\n&gt;&gt; jclune@...\n&gt;&gt; www.msu.edu/~jclune\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt;&gt; From: Ken &lt;kstanley@...&gt;\n&gt;&gt;&gt; Reply-To: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\n&gt;&gt;&gt; Date: Sun, 24 Jan 2010 00:53:27 -0000\n&gt;&gt;&gt; To: &quot;neat@yahoogroups.com&quot; &lt;neat@yahoogroups.com&gt;\n&gt;&gt;&gt; Subject: [neat] Re: Fitness and Selection\n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; Daniel and Jeff, please note that the rules cited by Daniel in a couple\n&gt;&gt;&gt; cases\n&gt;&gt;&gt; are not exactly what my implementation of NEAT does (and since JNEAT is\n&gt;&gt;&gt; based\n&gt;&gt;&gt; on my own I assume it follows the same rules mine).  Of course the code is a\n&gt;&gt;&gt; bit complicated and figuring out what it does is difficult to do quickly.\n&gt;&gt;&gt; In\n&gt;&gt;&gt; particular here are corrections for b and c:\n&gt;&gt;&gt; \n&gt;&gt;&gt; (b) Species are not killed off if their average fitness falls below a\n&gt;&gt;&gt; certain\n&gt;&gt;&gt; level.  Rather, there is a rule that, if turned on, would kill off a species\n&gt;&gt;&gt; if its maximum fitness has not improved in some number of generations.  That\n&gt;&gt;&gt; is a way to dump stagnant species.\n&gt;&gt;&gt; \n&gt;&gt;&gt; (c) &quot;Stolen babies&quot; is almost never used in any experiment that I have seen\n&gt;&gt;&gt; published or published myself, so it isn&#39;t really an important mechanism.\n&gt;&gt;&gt; However, it is a way to increase greediness.  As Daniel rightly infers, it\n&gt;&gt;&gt; doesn&#39;t steal actual genetic code from one species, but rather it steals the\n&gt;&gt;&gt; *right* to reproduce from the worse species and redistributes that right to\n&gt;&gt;&gt; the better ones.  So sort of Robin Hood in reverse (steal from the poor to\n&gt;&gt;&gt; help the rich).\n&gt;&gt;&gt; \n&gt;&gt;&gt; In terms of &quot;weighting the number of offspring produced towards the stronger\n&gt;&gt;&gt; species,&quot; that is correct, but that is just a property of fitness sharing,\n&gt;&gt;&gt; which NEAT uses.\n&gt;&gt;&gt; \n&gt;&gt;&gt; In general, the most important selection mechanism in NEAT is in fact\n&gt;&gt;&gt; fitness\n&gt;&gt;&gt; sharing, which makes it difficult for good species to take over the entire\n&gt;&gt;&gt; population because individuals must share the fitness of their species.  So\n&gt;&gt;&gt; as\n&gt;&gt;&gt; a species gets bigger, the fitness of everyone within it drops.  I would\n&gt;&gt;&gt; consider fitness sharing essential to NEAT&#39;s &quot;identity.&quot;\n&gt;&gt;&gt; \n&gt;&gt;&gt; However, all fitness sharing does is adjust the fitnesses of everyone in the\n&gt;&gt;&gt; population.  So after that, there is still a need to decide how many\n&gt;&gt;&gt; offpspring individuals get.  It is at this point that versions of NEAT may\n&gt;&gt;&gt; diverge and I do not have a strong opinion because I do not consider the\n&gt;&gt;&gt; choice essential to NEAT&#39;s identity.\n&gt;&gt;&gt; \n&gt;&gt;&gt; In my own implementations, first, offspring numbers are assigned on a\n&gt;&gt;&gt; per-species basis (proportionally to *adjusted* fitness after fitness\n&gt;&gt;&gt; sharing)\n&gt;&gt;&gt; and then they are assigned within to species to individuals.  My version of\n&gt;&gt;&gt; NEAT usually uses truncation selection within species.  So it just cuts out\n&gt;&gt;&gt; the bottom n% of the species from being eligible to reproduce and the rest\n&gt;&gt;&gt; get\n&gt;&gt;&gt; to reproduce.  (rtNEAT is different of course since it only produces one at\n&gt;&gt;&gt; a\n&gt;&gt;&gt; time - it probabilistic).  The remaining individuals are selected as parents\n&gt;&gt;&gt; randomly.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Perhaps most appealing for me about this approach is the idea that each\n&gt;&gt;&gt; species can be treated as its own little mini-population in which whatever\n&gt;&gt;&gt; selection scheme you choose is implemented.  I think it makes conceptual\n&gt;&gt;&gt; sense\n&gt;&gt;&gt; to think of a species as a population because *within* a species one wants\n&gt;&gt;&gt; the\n&gt;&gt;&gt; same kind of healthy phenomena to happen that one wants in a regular GA with\n&gt;&gt;&gt; a\n&gt;&gt;&gt; full population.\n&gt;&gt;&gt; \n&gt;&gt;&gt; Of course, you could alternatively choose roulette wheel selection within\n&gt;&gt;&gt; species (after adjusting fitness for fitness sharing) or something else.\n&gt;&gt;&gt; That\n&gt;&gt;&gt; choice is not that important, and I have tried a number of schemes and found\n&gt;&gt;&gt; that, at least with NEAT, it makes limited difference which one is chosen.\n&gt;&gt;&gt; But the fitness sharing is still key.\n&gt;&gt;&gt; \n&gt;&gt;&gt; So Jeff, there is no simple to answer to &quot;what kind of selection scheme does\n&gt;&gt;&gt; NEAT use&quot; because it is a multi-level scheme that first acts at the level of\n&gt;&gt;&gt; speciation and then at the level of individuals within species.  So no one\n&gt;&gt;&gt; blanket terms really covers the whole thing.  To distill it to a short\n&gt;&gt;&gt; phrase,\n&gt;&gt;&gt; perhaps we could say it uses &quot;fitness sharing and any other scheme after\n&gt;&gt;&gt; fitness-sharing.&quot;\n&gt;&gt;&gt; \n&gt;&gt;&gt; ken\n&gt;&gt;&gt; \n&gt;&gt;&gt;    \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; --- In neat@yahoogroups.com, Daniel Tuohy &lt;danielr2e@&gt; wrote:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; I&#39;m helping with the overhaul of JNeat.  I hadn&#39;t even looked at selection,\n&gt;&gt;&gt;&gt; but now that I do it seems very strange.  Perhaps Ken could explain what is\n&gt;&gt;&gt;&gt; going on here.\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; It looks like all the selection pressure comes from:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;  (a) Elitism within species (&quot;champions&quot; are automatically cloned into the\n&gt;&gt;&gt;&gt; subsequent generation)\n&gt;&gt;&gt;&gt;  (b) Killing off species when their average fitness falls below a certain\n&gt;&gt;&gt;&gt; threshhold\n&gt;&gt;&gt;&gt;  (c) Weighting the number of offspring produced towards the stronger\n&gt;&gt;&gt;&gt; species.  (In the code the metaphor of &quot;stealing babies&quot; from weaker\n&gt;&gt;&gt;&gt; species\n&gt;&gt;&gt;&gt; is used, although this doesn&#39;t seem quite right to me.  Surely if a species\n&gt;&gt;&gt;&gt; were to &quot;steal a baby&quot;, it would retain the genetic material of it&#39;s\n&gt;&gt;&gt;&gt; original species?)\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; With all that said, you&#39;re question is on the mathematical function that\n&gt;&gt;&gt;&gt; describes selection pressure relative to fitness, right?  Unfortunately,\n&gt;&gt;&gt;&gt; I&#39;m\n&gt;&gt;&gt;&gt; finding it very difficult to infer that from the above mechanisms.  I bet\n&gt;&gt;&gt;&gt; Ken knows :)\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; Daniel\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; On Sat, Jan 23, 2010 at 1:37 PM, Jeff Clune &lt;jclune@&gt; wrote:\n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Hello all-\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Apologies if this question has been answered before.\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; I should know the answer to this, but what kind of selection does NEAT\n&gt;&gt;&gt;&gt;&gt; use?\n&gt;&gt;&gt;&gt;&gt; I know the fitness is affected by speciation, but at the core is it still\n&gt;&gt;&gt;&gt;&gt; fitness proportional, or tournament?\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; In other words, do I need to be doing things like 2^fitness to magnify\n&gt;&gt;&gt;&gt;&gt; small\n&gt;&gt;&gt;&gt;&gt; improvements in fitness to help these small improvements get selected for,\n&gt;&gt;&gt;&gt;&gt; or does that not matter?\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Cheers,\n&gt;&gt;&gt;&gt;&gt; Jeff Clune\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt; Digital Evolution Lab, Michigan State University\n&gt;&gt;&gt;&gt;&gt; jclune@ &lt;jclune%40msu.edu&gt;\n&gt;&gt;&gt;&gt;&gt; www.msu.edu/~jclune\n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt;&gt;  \n&gt;&gt;&gt;&gt;&gt; \n&gt;&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt;&gt; \n&gt;&gt; \n&gt; \n&gt; \n\n\n\n"}}